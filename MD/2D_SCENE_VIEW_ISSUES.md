# 2D Scene View - ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

## ‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

### 1. Camera ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å save ‡πÉ‡∏ô scene ‚ùå
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡∏£‡∏∞‡∏ö‡∏ö scene serialization ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ save/load camera state
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡∏°‡∏µ Camera component ‡πÉ‡∏ô ECS ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ serialize camera ‡πÉ‡∏ô scene.json
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** 
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Camera component ‡πÉ‡∏ô ECS
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£ serialize/deserialize camera ‡πÉ‡∏ô scene system
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å position, zoom, rotation ‡∏Ç‡∏≠‡∏á camera

### 3. Space World Move ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏° mouse ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ move ‡∏î‡πâ‡∏ß‡∏¢ gizmo ‚ùå
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** Gizmo move ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô World space
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** 
- ‡πÉ‡∏ô `transform.rs` line 60-100: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì world delta ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏Å‡∏≤‡∏£ project mouse delta ‡πÑ‡∏õ‡∏¢‡∏±‡∏á world space ‡πÑ‡∏°‡πà‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ñ‡∏∂‡∏á camera rotation ‡πÉ‡∏ô 2D mode
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `handle_gizmo_interaction_stateful` ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì world space movement ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡πÉ‡∏ô 2D mode: rotation_rad ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö World space

### 4. ‡∏£‡∏∞‡∏ö‡∏ö editor Zoom ‡πÅ‡∏•‡∏∞ drag scene ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚ö†Ô∏è
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** 
- Zoom ‡πÑ‡∏°‡πà smooth
- Pan ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠ zoom level ‡∏™‡∏π‡∏á
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô `camera.rs` line 150-180: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì pan speed ‡πÑ‡∏°‡πà‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö zoom
- Damping ‡πÅ‡∏•‡∏∞ inertia ‡∏≠‡∏≤‡∏à‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡∏õ‡∏£‡∏±‡∏ö pan_speed calculation ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö zoom level
- ‡∏•‡∏î damping values ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 2D mode

### 5. ‡πÅ‡∏Å‡∏ô camera ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏•‡∏±‡∏ö‡∏ö‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏°‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô game view ‡∏î‡πâ‡∏ß‡∏¢ ‚ùå
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** 
- ‡πÅ‡∏Å‡∏ô Y ‡∏Ç‡∏≠‡∏á camera ‡∏™‡∏•‡∏±‡∏ö‡∏ö‡∏ô‡∏•‡πà‡∏≤‡∏á (inverted Y axis)
- Camera gizmo ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô game view (‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á)
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô `view_2d.rs` line 90: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì screen_y ‡πÉ‡∏ä‡πâ + ‡πÅ‡∏ó‡∏ô -
- ‡πÉ‡∏ô `camera.rs` line 100: pan calculation ‡∏°‡∏µ sign ‡∏ú‡∏¥‡∏î
- Game view ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ filter camera gizmo
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡πÅ‡∏Å‡πâ Y axis direction ‡πÉ‡∏ô world_to_screen ‡πÅ‡∏•‡∏∞ screen_to_world
- ‡πÄ‡∏û‡∏¥‡πà‡∏° flag `is_game_view` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á camera gizmo

### 6. Gizmo Move Scale ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚ùå
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** Gizmo handles ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å/‡∏•‡∏≤‡∏Å
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô `transform.rs` line 30-80: ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö hit detection ‡∏Ç‡∏≠‡∏á handles ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- Handle positions ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà render
- ‡πÉ‡∏ô 2D mode: rotation_rad ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ object rotation ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà camera rotation
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç hit detection ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö render positions
- ‡πÄ‡∏û‡∏¥‡πà‡∏° debug visualization ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö hit areas
- ‡πÅ‡∏Å‡πâ rotation calculation ‡πÉ‡∏ô Local vs World space

### 7. ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ sprite for production (LDTK, Tiled) üÜï
**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:** 
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö LDTK tilemap format
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Tiled (TMX) format
- Sprite atlas/texture packing
- Auto-generate colliders ‡∏à‡∏≤‡∏Å tilemap
**‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£:**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á tilemap component ‡πÅ‡∏•‡∏∞ system
- ‡πÄ‡∏û‡∏¥‡πà‡∏° LDTK parser
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Tiled (TMX) parser
- ‡∏™‡∏£‡πâ‡∏≤‡∏á collider generation tool

### 8. ‡πÅ‡∏Å‡πâ gizmo ‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏≤‡∏° object ‚ùå
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** Gizmo ‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏≤‡∏° object rotation ‡πÉ‡∏ô Local space
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô `gizmos.rs` line 80-120: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì rotation_rad ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 2D mode
- ‡πÉ‡∏ô 2D mode ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ camera rotation
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡πÅ‡∏Å‡πâ rotation calculation ‡πÉ‡∏ô `render_transform_gizmo`
- ‡πÉ‡∏ô 2D Local space: ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ object rotation
- ‡πÉ‡∏ô 2D World space: rotation = 0

## ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### Priority 1 (Critical) - ‡πÅ‡∏Å‡πâ‡∏Å‡πà‡∏≠‡∏ô
1. ‚úÖ ‡πÅ‡∏Å‡∏ô camera ‡∏™‡∏•‡∏±‡∏ö‡∏ö‡∏ô‡∏•‡πà‡∏≤‡∏á (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #5)
2. ‚úÖ Gizmo Move ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #3, #6)
3. ‚úÖ Gizmo ‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏≤‡∏° object (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #8)

### Priority 2 (Important) - ‡πÅ‡∏Å‡πâ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
4. ‚ö†Ô∏è Zoom ‡πÅ‡∏•‡∏∞ drag ‡πÑ‡∏°‡πà smooth (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #4)
5. üìù Camera ‡πÑ‡∏°‡πà save ‡πÉ‡∏ô scene (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #1)

### Priority 3 (Feature) - ‡∏ó‡∏≥‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
6. üÜï ‡∏£‡∏∞‡∏ö‡∏ö sprite/tilemap (‡∏õ‡∏±‡∏ç‡∏´‡∏≤ #7)

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### Test Cases ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤

#### Test #1: Camera Save/Load
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á scene ‡πÉ‡∏´‡∏°‡πà
- [ ] ‡∏õ‡∏£‡∏±‡∏ö camera position ‡πÅ‡∏•‡∏∞ zoom
- [ ] Save scene
- [ ] ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î scene ‡πÉ‡∏´‡∏°‡πà
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ camera ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏î‡∏¥‡∏°

#### Test #3: World Space Move
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á object
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å World space mode
- [ ] ‡∏•‡∏≤‡∏Å X axis gizmo ‚Üí object ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏°‡πÅ‡∏Å‡∏ô X
- [ ] ‡∏•‡∏≤‡∏Å Y axis gizmo ‚Üí object ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏°‡πÅ‡∏Å‡∏ô Y

#### Test #4: Zoom ‡πÅ‡∏•‡∏∞ Pan
- [ ] Zoom in/out ‡∏î‡πâ‡∏ß‡∏¢ scroll wheel ‚Üí ‡∏Ñ‡∏ß‡∏£ smooth
- [ ] Pan ‡∏î‡πâ‡∏ß‡∏¢ middle mouse ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏° mouse
- [ ] Zoom ‡πÅ‡∏•‡πâ‡∏ß pan ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

#### Test #5: Camera Axis
- [ ] ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô object ‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
- [ ] ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô object ‡∏•‡∏á ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î Game view ‚Üí ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô camera gizmo

#### Test #6: Gizmo Interaction
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å object
- [ ] ‡∏Ñ‡∏•‡∏¥‡∏Å X axis handle ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ/highlight
- [ ] ‡∏•‡∏≤‡∏Å X axis ‚Üí object ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Scale gizmo ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢/‡∏¢‡πà‡∏≠‡πÑ‡∏î‡πâ

#### Test #8: Gizmo Rotation
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á object ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏∏‡∏ô 45¬∞
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Local space
- [ ] Gizmo ‡∏Ñ‡∏ß‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏≤‡∏° object
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å World space
- [ ] Gizmo ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á (‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô)

## ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ
1. `engine/src/editor/camera.rs` - ‡πÅ‡∏Å‡πâ Y axis inversion
2. `engine/src/editor/ui/scene_view/rendering/view_2d.rs` - ‡πÅ‡∏Å‡πâ screen projection
3. `engine/src/editor/ui/scene_view/rendering/gizmos.rs` - ‡πÅ‡∏Å‡πâ gizmo rotation
4. `engine/src/editor/ui/scene_view/interaction/transform.rs` - ‡πÅ‡∏Å‡πâ gizmo interaction
5. `ecs/src/lib.rs` - ‡πÄ‡∏û‡∏¥‡πà‡∏° Camera component
6. `engine/src/scene.rs` - ‡πÄ‡∏û‡∏¥‡πà‡∏° camera serialization

## Timeline

- **Day 1:** ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Priority 1 (#5, #3, #6, #8)
- **Day 2:** ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Priority 2 (#4, #1)
- **Day 3-5:** ‡∏ó‡∏≥ Feature Priority 3 (#7)

## Notes

- ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô 2D mode ‡πÅ‡∏•‡∏∞ 3D mode
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á Local space ‡πÅ‡∏•‡∏∞ World space
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö 3D functionality
